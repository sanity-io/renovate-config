{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "Set semantic commit type based on advanced rules",
  "packageRules": [
    { "matchManagers": ["npm"], "semanticCommitType": "chore" },
    {
      "group": {
        "semanticCommitType": "{{#if isSingleVersion}}fix{{else}}{{#if (and isLockfileUpdate isRange)}}chore{{else}}fix{{/if}}{{/if}}",
        "semanticCommitScope": "{{#if isLockfileUpdate}}{{#if (or isRange isSingleVersion)}}deps{{else}}lockfile{{/if}}{{else}}deps{{/if}}"
      },
      "matchDepTypes": [
        "dependencies",
        "engines",
        "optionalDependencies",
        "peerDependencies"
      ],
      "matchManagers": ["npm"],
      "semanticCommitType": "{{#if isLockfileUpdate}}chore{{else}}fix{{/if}}",
      "semanticCommitScope": "{{#if isLockfileUpdate}}lockfile{{else}}deps{{/if}}"
    }
  ],
  "ignorePresets": [
    ":semanticPrefixFixDepsChoreOthers"
  ]
}
